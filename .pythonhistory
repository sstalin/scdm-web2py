_HiStOrY_V2_
db.tables
db.define_table(
\040\040\040'person',
\040\040\040Field('person_name',\040requires\040=\040IS_NOT_EMPTY(\040))
\040\040\040\040)
db(query).select()
query\040=\040db.person.person_name\040==\040user_name
db(person).select()
db(db.person).select()
db.person.insert(name="Alex")
db.person.insert(person_name="Alex")
db.person.insert(person_name="Bob")
db(db.person).select()
def\040test(name):
\040\040query\040=\040db.person.person_name\040==\040name
\040\040return\040db(query).select()\040>0
test('Bob')
\040\040\040db(db.person.person_name\040==\040'Bob').select()
db(db.person.person_name\040==\040'Bob').select()
len(db(db.person.person_name\040==\040'Bob').select())
len(db(db.person.person_name\040==\040'Bob').select())>0
len(db(db.person.person_name\040==\040'scot').select())>0
len(db(db.person.person_name\040==\040'scot').select())
db(db.person.person_name\040==\040'scot').select()
db(db.person.person_name\040==\040'scot').select()\040>\0400
db.define_table(
...\040\040\040\040'person',
...\040\040\040\040Field('person_name',\040requires\040=\040IS_NOT_EMPTY(\040))
db.define_table(
...\040\040\040\040'person',
...\040\040\040\040Field('person_name',\040requires\040=\040IS_NOT_EMPTY(\040))
...\040\040\040\040\040)
db.person.insert(name=\M-b\M^@\M^\Aaron\M-b\M^@\M^])
db.person.insert(person_name=\M-b\M^@\M^\Aaron\M-b\M^@\M^])
db.person.fields
db.person.insert(person_name=\M-b\M^@\M^\Aaron\M-b\M^@\M^])
db.person.insert(person_name="Alex")
db.person.insert(person_name="Ben")
db.person.select()
db.person
db.person.selectAll()
db(db.person.name[0]=='B').count()
db(db.person.person_name[0]=='B').count()
db(db.person.person_name[0]=='B').select()
db(db.person.person_name[0]=='B').select().count()
import\040cgi
cgi.escape('<hello>')
db.define_table('hero',\040Field('name'),\040\040format='%(name)s')
db.define_table('weapon',\040Field('name'),\040Field('owner_id',\040'reference\040hero'),\040format='%(name)s')
db.hero.insert(name\040=\040'Zeus')
db.hero.insert(name\040=\040'Poseidon')
db.hero.insert(name\040=\040'Hades')
db.weapon.insert(name='hammer',\040owner_id=1)
db.weapon.insert(name='lightning',\040owner_id=1)
db.weapon.insert(name='trident',\040owner_id=2)
rows\040=\040db(db.hero.id==db.weapon.owner_id).select()
for\040row\040in\040rows:
\040\040\040\040print\040row.hero.name,\040'has',\040row.weapon.name
rows\040=\040db(db.hero).select(join=db.weapon.on(db.hero.id==db.weapon.owner_id))
for\040row\040in\040rows:
\040\040\040\040print\040row.hero.name,\040'has',\040row.weapon.name
dir(db.trunkate)
dir(db.truncate)
dir('db.truncate')
help('db.truncate')
help(db.truncate)
dir('db.truncate')
help(db.truncate)
help(db.truncate())
help(Table.truncate)
help('Table.truncate')
db,tables
db.tables
db.weapon.drop()
db.tables
db.hero.drop()
db.tables
db.person.drop()
db.tables
db.auth_user.select()
db.auth_user.selectall()
db.auth_user.selectAll()
db.auth_user
dir(db.auth_user)
dir(db.auth_user.id\040>0).select()
dir(db.auth_user.id\040>\0400).select()
db(db.auth_user).selectAll
db(db.auth_user).selectAll()
db(db.auth_user.id\040>\0400).select()
db(db.auth_cas.id\040>\0400).select()
dir(MENU)
auth\040in\040globals();
auth\040in\040globals():
for\040auth\040in\040globals():
\040\040print\040auth\040
for\040auth\040in\040globals():
for\040auth\040in\040globals()\040and\040and\040auth.navbar(mode="dropdown"):
for\040auth\040in\040globals()\040and\040\040auth.navbar(mode="dropdown"):
\040\040print\040auth\040
for\040auth\040in\040globals():
\040\040print\040auth.navbar(mode='dropdown')
auth'\040in\040globals()\040and\040auth.navbar(mode="dropdown"
auth'\040in\040globals()\040and\040auth.navbar(mode="dropdown")
'auth'\040in\040globals()\040and\040auth.navbar(mode="dropdown")
auth
dir(auth)
dir(auth.islogin)
dir(auth.isLogin)
dir(auth.user)
help(auth.user)
help(auth.login)
help(auth.is_logged_in)
help(auth.user)
help(auth)
db
db.tables
db.define_table('animal',\040Field(name))
db.define_table('animal',\040Field('name'))
db.animal.insert(name="Cow")
db.animal.insert(name="Elephant")
db.animal.bulk_insert([{'name':'Frog'},\040{'name':'Horse'}])
import\040socket
s\040=\040socket.socket(socket.AF_INET,\040socket.SOCK_STREAM)
s.bind(('0.0.0.0',\04050008))
s.listen(1)
conn,\040addr\040=\040s.accept()
db.define_table('person',\040Field('name")
db.person.insert(name='aa')
db.tables
db.animal.drop()
db.tables
db.define_table('person',\040Field('name")
db.person.insert(name='aa')
db.define_table('person',\040Field('name'))
db.person.insert(name='aa')
db.person.insert(name='bb')
db.rollback()
db.person
db.person.rows
db.person.fields
db.person.rows()
db.person.rows
db.person.insert(name='cc')
db.person.insert(name='dd')
query\040=\040db().select(db.person.id,\040db.person.name)
print\040query
for\040row\040in\040db().select(db.person.id,\040db.person.name):
\040\040\040\040if\040row.name\040!=\040'cc':
\040\040\040\040\040\040\040\040print\040row.name
db.person.drop()
db.tables
db.define_table('emp',\040Field('name'),\040Field('dept'))
db.define.table('company',\040Field('deptNo'),\040Field('deptName\M-b\M^@\M^Y))
db.define.table('company',\040Field('deptNo'),\040Field('deptName\M-b\M^@\M^Y))\040\040
db.tables
db.define.table('company',\040Field('deptNo'),\040Field('deptName'))
db.define_table('company',\040Field('deptNo'),\040Field('deptName'))
db.emp.insert(name='Bill',\040dept='5')
db.emp.insert(name='Jane',\040dept='7')
db.emp.insert(name='Bob',\040dept='5')
db.emp.insert(name='John',\040dept='5')
db.emp.insert(name='Mary',\040dept='6')
db.emp.insert(name='Ed',\040dept='7')
db.company.insert(deptNo='5',\040deptName='Sales')
db.company.insert(deptNo='6',\040deptName='Accounting')
db.company.insert(deptNo='7',\040deptName='Development')
c=db(db.emp.dept==db.company.deptNo).select(deptName='Sales').count()
c=db((db.emp.dept==db.company.deptNo)\040&\040(db.company.deptName=='Sales')).count()
print\040c
c=db(db.emp.dept==db.company.deptNo).select(deptName=='Sales').count()
c=db(db.emp.dept==db.company.deptNo)
print\040c
c.select()
c.select(db.company.deptName\040==\040'Sales')
dir(c.select)
help(c.select)
c.select()
print\040c.select()
db.tables
help(db.company.truncate)
db.tables
db.company.truncate()
db.company
print\040db.company.select()
print\040db(db.company).select()
db.company.drop
db.company.drop()
db.tables
request
dir(request)
dir(request.environ)
dir(request.getIP)
help(request.getIP)
help(request.data)
help(request.ddsdd)
dir(request.ddsdd)
dir(request)
db.tables
db.auth_user
db.auth_user.select()
db(db.auth_user).select()
rows\040=\040db(db.auth_user).select()
for\040row\040in\040rows:
\040print\040row\040
for\040row\040in\040rows:
\040\040\040print\040row|n
\040\040\040print\040row\040\134\040nn
\040\040\040print\040row\040\134n
\040\040\040print\040row\040
\040\040\040print\040row
\040\040\040\040\040\040\040print\040row
\040print\040row\040\134n
\040\040\040\040print\040row
\040\040\040\040nprint\040row
for\040row\040in\040rows:
\040\040\040print\040row\040\134n
for\040row\040in\040rows:
\040\040print\040row
\040\040print\040'\134n'
for\040row\040in\040rows:
\040print\040row.first_name
db(db.membership).select()
define_table('company',\040Field('name'),\040Field('workers'))
db.define_table('company',\040Field('name'),\040Field('workers'))
import\040populate
import\040from\040gluon\040populate
from\040gluon.contrib.populate\040import\040populate
populate('company',\0402)
populate(db.company,\0402)
db.define_table('workers',\040Field('f_name',\040'string'),\040Field('l_name',\040string),\040Field('company',\040'reference\040company'))
db.define_table('workers',\040Field('f_name',\040'string'),\040Field('l_name',\040'string'),\040Field('company',\040'reference\040company'))
populate(db.workers,\04010)
db(db.company).select()
print\040db(db.company).select()
db.company.fields
db.company.truncate
db.company.truncate()
print\040db(db.company).select()
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer'))
db.company.drop()
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer'))
populate(db.company,\0405)
print\040db(db.company).select()
db.workers.drop()
db.define_table('workers',\040Field('f_name',\040'string'),\040Field('l_name',\040'string'),\040Field('company',\040'reference\040company'))
populate(db.workers,\04010000)
db(db.workers).insert(f_name\040=\040'test',\040company\040=\0401)
db.workers.insert(f_name\040=\040'test',\040company\040=\0401)
print\040db(db.company).select()
print\040db(db.workers.company\040==1).select()
print\040db(db.workers.company\040==2).select()
db.tables
db.company.trunc()
db.company.trunk()
db.company.trunc()
db.company.truncate()
db.workers.truncate()
populate(db.comany,\0402)
populate(db.company,\0402)
populate(db.workers,\04010)
print\040db(db.workers).select()
db.company.drop()
db.workers.drop()
db.define_table('workers',\040Field('f_name',\040'string'),\040Field('l_name',\040'string'),\040Field('company',\040'reference\040company'))
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040update=\040db(db.workers.company\040==\040db.company.id).count())
)
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040update=\040db(db.workers.company\040==\040db.company.id).count())
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040update=\040db(db.workers).count())
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040update=\040db(db.workers).select().count())
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040update=1\040)
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer')
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer'),\040update=1)
print\040db.company.select()
print\040db(db.company).select()
popilate(db.company,\0405)
populate(db.company,\0405)
print\040db(db.company).select()
db(db.company.id\040==1).update(name\040=\040'test')
print\040db(db.company).select()
db.company.drop()
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040IS_INT_IN_RANGE(0,\04010)))
populate(db.company,\0405)
print\040db(db.company).select()
db.company.drop()
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040decimal(1,10)))
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'integer',\040'decimal(0,\04010)'))
populate(db.company,\0405)
print\040db(db.company).select()
db.company.drop()
db.define_table('company',\040Field('name',\040'string'),\040Field('workers',\040'decimal(0,\04010)'))
populate(db.company,\0405)
print\040db(db.company).select()
db.tables
print\040db.organiation
print\040db.organization
print\040db(db.organization).select()
print\040db(db.membership).select()
print\040db(db.auth_user.name\040==\040'Svetlin').select()
print\040db(db.auth_user.id\040==\0401).select()
print\040db(db.auth_user.id\040==\0402).select()
print\040db(db.membership.auth_user\040==\0402).select(organization)
print\040db(db.membership.auth_user\040==\0402).select()
print\040db(db.membership.auth_user\040==\0401).select()
print\040db(db.membership.auth_user\040<\0402).select()
print\040db(db.membership).select()
print\040db(db.organization).select()
db.organization.fields
print\040db(db.organization).select()
print\040db(db.membership).select()
db.membership.drop()
print\040db(db.membership).select()
print\040db(db.organization).select()
print\040db(db.layers).select()
print\040db(db.layer).select()
db.tables
print\040db(db.layer).select()
auth
dir(auth)
db(db.membership.user_id\040==1).select('role')
db(db.membership.organization==1).select('role')
db(db.membership.organization==1).select(role)
print\040db(db.membership.organization==1).select('role')
print\040db(db.membership.auth_user==1).select('role')
print\040db(db.membership.auth_user).select('role')
print\040db(db.membership.auth_user==1).select('role').first()
print\040db(db.membership.auth_user==1).select('role')
print\040db(db.membership.auth_user==1).first().select('role')
print\040(db(db.membership.auth_user==1).select('role')).first()
print\040db(db.membership.auth_user==1).select('role')
print\040db(db.membership).select()
print\040db(db.auth_user).select()
print\040db(db.auth_user).select(name)
print\040db(db.auth_user).select(email)
print\040db(db.auth_user).select('email')
print\040db(db.membership).select()
print\040db(db.organization).select()
print\040db(db.auth_user).select(organization)
print\040db(db.auth_user).select('organization')
print\040db(db.organization).select()
db(db.membership.organization\040==\040'Tim\040Fordyce').select()
db(db.membership.organization=='Tim\040Fordyce').select()
print\040db(db.organization).select()
db(db.membership.organization==3).select()
print\040db(db.membership.organization==3).select()
db(db.membership.organization==3).delete()
print\040db(db.membership.organization==3).select()
print\040db(db.membership.organization==3).count()
print\040db(db.membership).select()
print\040db(db.auth_user).select()
print\040db(db.auth_user).select('first_name')
print\040db(db.membership).select()
print\040db(db.membership.auth_user\040==\0409).select()
print\040db(db.membership.auth_user\040==\0409).select('organization').first()
print\040db(db.membership.auth_user\040==\0409).first().select('organization')
print\040db(db.membership.auth_user\040==\0409).first()
print\040db(db.membership.auth_user\040==\0409).select().first
print\040db(db.membership.auth_user\040==\0409).select().first()
print\040db(db.membership.auth_user\040==\0409).select().first().organization
dir(auth)
dir(auth.user)
dir(auth.user_id)
print\040auth.user_id
print\040auth.user_info
print\040db.tables
print\040auth.user_id
print\040db(db.membership.auth_user\040==\0409).select().first().organization
db(db.membership.auth_user\040==\040user).select().first()
db(db.membership.auth_user\040==\040auth.user_id).select().first()
row\040=\040db(db.membership.auth_user\040==\040auth.user_id).select().first()
print\040row
row\040=\040db(db.membership.auth_user\040==\040auth.user_id).select().first()
print\040row
print\040auth.user_id
if\040None:
\040\040print\040true
if\040None:
\040\040\040print\040'jjj'
if\040None:
print\040db(db.organization).select()
db.auth_user
print\040db(db.membership).select()
print\040db(db.organization).select()
print\040db(db.auth_user).select()
print\040db(db.auth_user).select('email')
print\040db(db.organization).select()
print\040db(db.membership).select()
print\040db(db.organization).select()
print\040db(db.membership).select()
print\040db(db.auth_user).select()
print\040db(db.membership).select()
print\040db(db.organization).select()
print\040db(db.membership).select()
print\040db(db.organization).select()
print\040db(db.auth_user).select()
print\040db(db.auth_user).select('email')
print\040db(db.membership).select()
print\040db(db.auth_user).select('email')
print\040db(db.organization).select()
print\040db(db.membership).select()
print\040db(db.organization).select()
print\040db(db.layers).select()
print\040db(db.layer).select()
print\040db(db.layers).select()
print\040db(db.layers).select('description')
print\040db(db.layers).select('id')
print\040db(db.layers).select('id',\040'name')
rows\040=\040db(db.layers).select('id',\040'name')
for\040row\040in\040rows:
\040\040\040print\040row.id,\040row.name
rows\040=\040db(db.layers).select('id',\040'name')
print\040rows
rows.as_list()
rows\040=\040db(db.layers).select().as_list()
print\040rows
rows\040=\040db(db.layers).select()
print\040rows
rows\040=\040db(db.layers).select()
print\040rows
rows\040=\040db(db.layers.id\040==\0401).select('filename')
print\040rows
rows\040=\040db(db.layers.id\040==\0401).select('filename')
print\040rows
print\040\040db(db.layers).select('filename')
print\040\040db(db.layers).select('filename').as_List()
print\040\040db(db.layers).select('filename').as_list()
print\040db(db.layers).select('filename').as_list()
print\040db(db.layers).select().as_list()
print\040db(db.layers.id\040==\0406).select('filename')
fn=\040db(db.layers.id\040==\0406).select('filename')
print\040fn
